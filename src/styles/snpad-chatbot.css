
/* --- src/styles/snpad-chatbot.css --- */
/* This file contains styles SPECIFICALLY for the fullscreen SNPAd chatbot experience. */

/* --- ROOT & THEME VARIABLES --- */
:root {
    --snpad-light-bg: 220, 20%, 98%;
    --snpad-light-card: 220, 20%, 100%;
    --snpad-light-text: 220, 15%, 20%;
    --snpad-light-muted-text: 220, 15%, 50%;
    --snpad-light-border: 220, 20%, 90%;
    --snpad-light-primary: 217, 91%, 60%; 
    --snpad-light-input: 220, 20%, 94%;

    --snpad-dark-bg: 220, 15%, 8%; 
    --snpad-dark-card: 220, 15%, 12%;
    --snpad-dark-text: 210, 20%, 95%;
    --snpad-dark-muted-text: 210, 15%, 60%;
    --snpad-dark-border: 220, 15%, 20%;
    --snpad-dark-primary: 217, 91%, 65%;
    --snpad-dark-input: 220, 15%, 15%;
}

/* Light Theme */
html.light {
    --bg: var(--snpad-light-bg);
    --card: var(--snpad-light-card);
    --text: var(--snpad-light-text);
    --muted-text: var(--snpad-light-muted-text);
    --border: var(--snpad-light-border);
    --primary: var(--snpad-light-primary);
    --input: var(--snpad-light-input);
    --glass-bg: rgba(255, 255, 255, 0.5);
    --glass-border: rgba(255, 255, 255, 0.3);
}

/* Dark Theme */
html.dark {
    --bg: var(--snpad-dark-bg);
    --card: var(--snpad-dark-card);
    --text: var(--snpad-dark-text);
    --muted-text: var(--snpad-dark-muted-text);
    --border: var(--snpad-dark-border);
    --primary: var(--snpad-dark-primary);
    --input: var(--snpad-dark-input);
    --glass-bg: rgba(25, 25, 30, 0.5);
    --glass-border: rgba(255, 255, 255, 0.1);
}

/* --- BASE & FULLSCREEN LAYOUT --- */
html, body {
    height: 100%;
    margin: 0;
    padding: 0;
    overflow: hidden; /* Prevent body scroll */
}

body {
    background-color: hsl(var(--bg));
    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
}

.snpad-chatbot-app {
    width: 100vw;
    height: 100vh;
    height: 100svh; /* More robust for mobile */
    display: flex;
    flex-direction: column;
    /* Glassmorphism background styles */
    background: var(--glass-bg);
    box-shadow: 0 8px 32px 0 rgba(0, 0, 0, 0.37);
    backdrop-filter: blur(5px);
    -webkit-backdrop-filter: blur(5px);
    border: 1px solid var(--glass-border);
    color: hsl(var(--text));
    overflow: hidden;
    position: relative;
}

/* --- ANIMATED BACKGROUND --- */
@keyframes data-flow {
    from { transform: translateY(-100%); }
    to { transform: translateY(100%); }
}

.data-flow-background {
    position: absolute;
    top: 0; left: 0;
    width: 100%; height: 200%;
    background-image: 
        linear-gradient(hsl(var(--primary) / 0.03) 1px, transparent 1px),
        linear-gradient(90deg, hsl(var(--primary) / 0.03) 1px, transparent 1px);
    background-size: 30px 30px;
    opacity: 0.5;
    animation: data-flow 40s linear infinite;
    z-index: 0;
}

/* --- BOT MESSAGE GLOW ANIMATION --- */
@keyframes blue-glow-pan {
    0% { background-position: 0% 50%; }
    50% { background-position: 100% 50%; }
    100% { background-position: 0% 50%; }
}

.bot-message-glow::before {
    content: '';
    position: absolute;
    top: 50%;
    left: 50%;
    width: 200%;
    height: 200%;
    transform: translate(-50%, -50%);
    background: conic-gradient(
        from 0deg,
        hsl(var(--primary) / 0.2), 
        hsl(240, 80%, 60% / 0.25), /* Cyan-ish blue */
        hsl(190, 80%, 60% / 0.2), /* Teal-ish blue */
        hsl(var(--primary) / 0.2)
    );
    filter: blur(15px);
    z-index: -1;
    background-size: 150% 150%;
    animation: blue-glow-pan 8s linear infinite;
}


/* --- HEADER, MAIN, FOOTER --- */
.snpad-header, .snpad-footer, .chat-footer {
    flex-shrink: 0;
    position: relative;
    z-index: 2;
    background-color: hsl(var(--card) / 0.3); /* More transparent for better glass effect */
    backdrop-filter: blur(8px);
    -webkit-backdrop-filter: blur(8px);
    border-color: hsl(var(--border));
}

.snpad-header {
    padding: 0.75rem 1rem;
    display: flex;
    align-items: center;
    justify-content: space-between;
    border-bottom-width: 1px;
}

.snpad-main {
    flex-grow: 1;
    position: relative; /* Needed for AnimatePresence children */
    overflow: hidden;
    max-width: 800px;
    width: 100%;
    margin: 0 auto;
    display: flex;
    flex-direction: column;
}
.snpad-main > div {
    width: 100%;
    height: 100%;
    display: flex;
    flex-direction: column;
}

.page-container {
    display: flex;
    flex-direction: column;
    flex-grow: 1;
    padding: 1.5rem;
    overflow-y: auto;
    text-align: left;
}
.chat-page-container {
    padding: 0;
}

.snpad-footer {
    padding: 0.5rem;
    border-top-width: 1px;
}

/* --- NAVIGATION BAR --- */
.nav-bar {
    display: flex;
    justify-content: space-around;
    align-items: center;
    background-color: hsl(var(--input));
    padding: 0.25rem;
    border-radius: 0.75rem;
    max-width: 320px;
    margin: 0 auto;
}

.nav-button {
    position: relative;
    flex: 1;
    display: flex;
    align-items: center;
    justify-content: center;
    padding: 0.75rem;
    border-radius: 0.5rem;
    border: none;
    background: none;
    cursor: pointer;
    transition: color 0.2s;
}

.active-nav-indicator {
    position: absolute;
    inset: 0;
    background-color: hsl(var(--primary) / 0.15);
    border-radius: inherit;
    border: 1px solid hsl(var(--primary) / 0.2);
}

/* --- CHAT FOOTER & INPUT --- */
.chat-footer {
    padding: 0.75rem;
    border-top-width: 1px;
    width: 100%;
    max-width: 800px;
    margin: 0 auto;
    margin-top: auto;
}

.chat-input {
    flex-grow: 1;
    background-color: hsl(var(--input));
    border: 1px solid hsl(var(--border));
    border-radius: 0.75rem;
    height: 44px;
    padding: 0 1rem;
    color: hsl(var(--text));
    font-size: 1rem;
    transition: all 0.2s;
}
.chat-input:focus {
    outline: none;
    border-color: hsl(var(--primary) / 0.7);
    box-shadow: 0 0 0 3px hsl(var(--primary) / 0.2);
}
.chat-input::placeholder { color: hsl(var(--muted-text)); }

.send-button {
    height: 44px; width: 44px; flex-shrink: 0; border-radius: 50%; border: none;
    background-color: hsl(var(--primary));
    color: white; display: flex; align-items: center; justify-content: center;
    cursor: pointer; transition: transform 0.2s, background-color 0.2s;
}
.send-button:hover:not(:disabled) { transform: scale(1.05); background-color: hsl(from var(--primary) h s calc(l - 5%)); }
.send-button:disabled { opacity: 0.5; cursor: not-allowed; }

/* --- OTHER UTILITY & HELPER STYLES --- */
.control-button {
    background: none; border: none; padding: 0.5rem; cursor: pointer;
    color: hsl(var(--muted-text)); transition: color 0.2s, transform 0.2s; border-radius: 50%;
}
.control-button:hover { color: hsl(var(--text)); background-color: hsl(var(--border)); transform: scale(1.1); }

.glitch-button:hover::before {
    content: ''; position: absolute; top: 50%; left: 50%; width: 300%; height: 300%;
    background-color: hsl(var(--primary) / 0.1); transform: translate(-50%, -50%) rotate(45deg);
    animation: glitch-anim 0.3s forwards; z-index: 0;
}
@keyframes glitch-anim { 0% { transform: translate(-50%, -50%) scale(0) skewX(30deg); } 100% { transform: translate(-50%, -50%) scale(1) skewX(0deg); } }

.data-packet {
    position: absolute; bottom: 1.5rem; left: 50%; transform: translateX(-50%);
    width: 32px; height: 32px; background: radial-gradient(circle, hsl(var(--primary) / 0.8), transparent 70%);
    border-radius: 50%; display: flex; align-items: center; justify-content: center;
    color: white; box-shadow: 0 0 15px hsl(var(--primary)); z-index: 10;
}

/* Base Prose styles for markdown content */
.prose { color: hsl(var(--text)); max-width: 65ch; }
.prose-sm { font-size: 0.875rem; line-height: 1.625; }
.dark .prose-invert { color: hsl(var(--text)); }
.prose p { margin: 0; }
.prose strong { color: hsl(var(--primary)); font-weight: 600; }
.prose code { background-color: hsl(var(--input)); padding: 0.2em 0.4em; margin: 0; font-size: 85%; border-radius: 6px; }

/* General Elements */
.text-foreground { color: hsl(var(--text)); }
.text-muted-foreground { color: hsl(var(--muted-text)); }
.text-primary { color: hsl(var(--primary)); }
.bg-muted { background-color: hsl(var(--input)); }
.bg-background\/50 { background-color: hsl(var(--card) / 0.5); }
.hover\:bg-background\/80:hover { background-color: hsl(var(--card) / 0.8); }
.border-border\/20 { border-color: hsl(var(--border) / 0.2); }
.hover\:border-primary\/50:hover { border-color: hsl(var(--primary) / 0.5); }

/* Help Page Specifics */
.help-page-content .text-white\/70 { color: hsl(var(--muted-text)); }
.help-page-content .text-primary { color: hsl(var(--primary)); }
